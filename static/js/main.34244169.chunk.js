(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[0],{107:function(e,t,n){e.exports=n.p+"static/media/img_568657.d9f433b0.png"},111:function(e,t,n){e.exports={Navbar:"Navbar_Navbar__TvsWb",Main:"Navbar_Main__3pDXn",Ul:"Navbar_Ul__3GGIe"}},129:function(e,t,n){e.exports={MenuToggle:"Menu_MenuToggle__c7C7Q",open:"Menu_open__1jA4v"}},174:function(e,t,n){e.exports={App:"App_App__108hJ"}},175:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__1LmBK"}},182:function(e,t,n){e.exports={Main:"Main_Main__2lRLJ"}},185:function(e,t,n){e.exports={main:"Loader_main__2Tae-"}},186:function(e,t,n){e.exports={main:"Status_main__3Vf-5"}},228:function(e,t,n){e.exports=n(354)},233:function(e,t,n){},354:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),o=n(20),i=n.n(o),s=(n(233),n(29)),l=n(30),c=n(32),u=n(31),p=n(174),m=n.n(p),f=n(58),d=n(401),h=n(402),g=n(403),E=n(91),b=n(404),v=n(22),_=n(104),O=n.n(_),w=n(129),y=n.n(w),j=n(179),C=n.n(j),k=n(400),P=n(178),N=n.n(P),T=n(90),S=n.n(T),x=n(176),U=n.n(x),A=n(177),I=n.n(A),L=n(420),M=n(399),F=n(398),D=n(175),G=n.n(D),R=function(e){return r.a.createElement("div",{className:G.a.Backdrop,onClick:e.onClick})},W=[{to:"/profile",label:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",icon:r.a.createElement(O.a,null)},{to:"/users",label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",icon:r.a.createElement(U.a,null)},{to:"/news",label:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438",icon:r.a.createElement(I.a,null)}],B=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"renderLinks",value:function(){var e=this;return W.map((function(t,n){return r.a.createElement(v.b,{to:t.to,key:n,onClick:e.props.onToggle},r.a.createElement(L.a,{button:!0,className:S.a.DrawerWrapper},r.a.createElement(F.a,null,t.icon),r.a.createElement(M.a,{primary:t.label,className:S.a.text})))}))}},{key:"render",value:function(){var e=[S.a.Drawer];return this.props.isOpen||e.push(S.a.close),r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:e.join(" ")},r.a.createElement("ul",null,this.renderLinks())),this.props.isOpen?r.a.createElement(R,null):null)}}]),n}(r.a.Component),z=function(e){var t=[y.a.MenuToggle];return e.isOpen&&t.push(y.a.open),r.a.createElement("div",null,r.a.createElement(B,{isOpen:e.isOpen,onToggle:e.onToggle}),r.a.createElement(k.a,{edge:"start",className:t.join(" "),onClick:e.onToggle,color:"inherit","aria-label":"menu"},e.isOpen?r.a.createElement(N.a,null):r.a.createElement(C.a,null)))},H=n(415),J=Object(d.a)((function(e){return{root:{flexGrow:1,position:"fixed",width:"100%",backgroundColor:"#25323a",zIndex:2},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},nav:{color:"#fff",fontSize:20},login:{display:"flex",minWidth:250,justifyContent:"space-between",alignItems:"center",fontSize:20}}}));function Q(e){var t=J(),n=Object(a.useState)(!1),o=Object(f.a)(n,2),i=o[0],s=o[1];return r.a.createElement("div",{className:t.root},r.a.createElement(h.a,{position:"static",className:t.root},r.a.createElement(g.a,null,r.a.createElement(z,{isOpen:i,onToggle:function(){s(!i)}}),r.a.createElement(H.a,{only:"xs"},r.a.createElement(E.a,{variant:"h6",className:t.title},"React Project")),e.isAuth?r.a.createElement("div",{className:t.login},r.a.createElement(H.a,{only:"xs"},r.a.createElement(O.a,null),e.login),r.a.createElement(b.a,{variant:"contained",color:"secondary",onClick:e.logout},"logout")):r.a.createElement(v.b,{className:t.nav,to:"/login"},"Login"))))}var X=n(25),Y=n.n(X),Z=n(47),q=n(13),V=n(180).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"141828eb-3df1-4887-9f23-4db2de9814c8"}}),K=function(e,t){return V.get("users?page=".concat(e,"&count=").concat(t))},$=function(e,t){return V.get("users?page=".concat(e,"&count=").concat(t))},ee=function(){return V.get("auth/me")},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return V.post("auth/login",{email:e,password:t,rememberMe:n})},ne=function(){return V.delete("auth/login")},ae={followApi:function(e){return V.post("follow/"+e)},unfollowApi:function(e){return V.delete("follow/"+e)},savePhoto:function(e){var t=new FormData;return t.append("image",e),V.put("profile/photo",t,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){return e.data}))}},re=n(79),oe={email:null,id:null,login:null,isAuth:!1},ie=function(e,t,n,a){return{type:"auth/SET_AUTH_DATA",data:{email:e,id:t,login:n,isAuth:a}}},se=function(){return function(e){ee().then((function(t){if(0===t.data.resultCode){var n=t.data.data,a=n.email,r=n.id,o=n.login;e(ie(a,r,o,!0))}}))}},le=function(e,t,n){return function(){var a=Object(Z.a)(Y.a.mark((function a(r){var o,i;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,te(e,t,n);case 2:0===(o=a.sent).data.resultCode?r(se()):(i=o.data.messages.length>0?o.data.messages[0]:"some error",r(Object(re.a)("login",{_error:i})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ce=function(){return function(e){ne().then((function(t){0===t.data.resultCode&&e(ie(null,null,null,!1))}))}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_AUTH_DATA":return Object(q.a)({},e,{},t.data);default:return e}},pe=n(23),me=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getMyApiThunk()}},{key:"render",value:function(){return r.a.createElement(Q,this.props)}}]),n}(r.a.Component),fe=Object(pe.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{getMyApiThunk:se,logout:ce})(me),de=n(182),he=n.n(de),ge=n(111),Ee=n.n(ge),be=n(405),ve=function(){return r.a.createElement(H.a,{smDown:!0},r.a.createElement(be.a,{item:!0,xl:2,lg:3,md:4,sm:12},r.a.createElement("div",{className:Ee.a.Navbar},r.a.createElement("div",{className:Ee.a.Main},r.a.createElement("ul",{className:Ee.a.Ul},r.a.createElement("li",null,r.a.createElement(v.b,{to:"/News"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),r.a.createElement("li",null,r.a.createElement(v.b,{to:"/Users"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),r.a.createElement("li",null,r.a.createElement(v.b,{to:"/Profile"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")))))))},_e=n(16),Oe=n(406),we=Object(d.a)((function(e){return{root:{display:"flex",justifyContent:"center",padding:"3%",margin:"5%",width:"100%"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),ye=function(){var e=we();return(r.a.createElement(Oe.a,{className:e.root},r.a.createElement("iframe",{title:"newsPage",width:"560",height:"315",src:"https://www.youtube.com/embed/xJZa2_aldDs",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})))},je=n(64),Ce=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(q.a)({},e,{},a):e}))},ke="users/FOLLOW",Pe={users:[],pageSize:10,totalUsersCount:0,currentPage:1,pagesLimit:10,isFetching:!0,inProcess:!1,usersFollowing:[]},Ne=function(e){return{type:ke,userId:e}},Te=function(e){return{type:"users/UNFOLLOW",userId:e}},Se=function(e){return{type:"users/SET_USERS",users:e}},xe=function(e){return{type:"users/SET_TOTAL_USERS_COUNT",totalCount:e}},Ue=function(e){return{type:"users/CHANGE_CURRENT_PAGE",currentPage:e}},Ae=function(e){return{type:"users/TOGGLE_IS_FETCHING",loading:e}},Ie=function(e,t){return{type:"users/FOLLOW_IN_PROCESS",inProcess:e,userId:t}},Le=function(){var e=Object(Z.a)(Y.a.mark((function e(t,n,a,r){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ie(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(Ie(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(q.a)({},e,{users:Ce(e.users,t.userId,"id",{followed:!0})});case"users/UNFOLLOW":return Object(q.a)({},e,{users:Ce(e.users,t.userId,"id",{followed:!1})});case"users/SET_USERS":return Object(q.a)({},e,{users:Object(je.a)(t.users)});case"users/SET_TOTAL_USERS_COUNT":return Object(q.a)({},e,{totalUsersCount:t.totalCount});case"users/CHANGE_CURRENT_PAGE":return Object(q.a)({},e,{currentPage:t.currentPage});case"users/TOGGLE_IS_FETCHING":return Object(q.a)({},e,{isFetching:t.loading});case"users/FOLLOW_IN_PROCESS":return Object(q.a)({},e,{inProcess:t.inProcess,usersFollowing:t.inProcess?[].concat(Object(je.a)(e.usersFollowing),[t.userId]):e.usersFollowing.filter((function(e){return e!==t.userId}))});default:return e}},Fe=n(107),De=n.n(Fe),Ge=n(42),Re=n.n(Ge),We=n(413),Be=n(407),ze=n(183),He=n.n(ze),Je=n(414),Qe=n(416),Xe=Object(d.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(2)}},info:{position:"fixed",top:90,right:20,backgroundColor:"#25323a",zIndex:1,"&:hover":{backgroundColor:"#25323a"}},"MuiPagination-ul":{backgroundColor:"red"}}})),Ye=function(e){return r.a.createElement(Je.a,Object.assign({elevation:6,variant:"filled"},e))},Ze=function(e){for(var t=Xe(),n=r.a.useState(!1),a=Object(f.a)(n,2),o=a[0],i=a[1],s=function(e,t){"clickaway"!==t&&i(!1)},l=Math.ceil(e.totalUsersCount/e.pageSize),c=[],u=1;u<=l;u++)c.push(u);return(r.a.createElement("div",{className:Re.a.mainUsers},r.a.createElement("div",{className:Re.a.tip},r.a.createElement(Be.a,{color:"primary","aria-label":"add",onClick:function(){i(!0)},className:t.info,size:"medium",disableFocusRipple:!0},r.a.createElement(He.a,null)),r.a.createElement(Qe.a,{open:o,autoHideDuration:6e3,onClose:s,anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(Ye,{onClose:s,severity:"info"},"\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043e ",e.totalUsersCount," \u0447\u0435\u043b\u043e\u0432\u0435\u043a"))),r.a.createElement("div",null,r.a.createElement("div",{className:Re.a.paginationMain},r.a.createElement(We.a,{color:"secondary",count:l,shape:"rounded",page:e.currentPage,showFirstButton:!0,showLastButton:!0,className:Re.a.paginationMain,onChange:function(t,n){e.onPageChanged(n)}})),r.a.createElement("div",{className:Re.a.paginationSecond},r.a.createElement(We.a,{count:l,defaultPage:6,siblingCount:0,onChange:function(t,n){e.onPageChanged(n)}}))),r.a.createElement("br",null),r.a.createElement("div",{className:Re.a.usersWrapper},e.users.map((function(t,n){return r.a.createElement("div",{className:Re.a.usersInfo,key:n},r.a.createElement("div",{className:Re.a.usersIcon},r.a.createElement(v.b,{to:"/profile/"+t.id},r.a.createElement("img",{alt:"user icon",src:t.photos.small?t.photos.small:De.a}))),r.a.createElement("div",{className:Re.a.usersStatus},t.status?t.status:"user's status"),r.a.createElement("div",{className:Re.a.usersName},t.name),r.a.createElement("div",null,t.followed?r.a.createElement(b.a,{variant:"contained",style:{backgroundColor:"#f44336"},disabled:e.usersFollowing.some((function(e){return e===t.id})),onClick:function(){e.unfollowThunkCreator(t.id)}}," unfollow "):r.a.createElement(b.a,{variant:"contained",style:{backgroundColor:"#f44336"},disabled:e.usersFollowing.some((function(e){return e===t.id})),onClick:function(){e.followThunkCreator(t.id)}}," follow ")))})))))},qe=n(408),Ve=n(185),Ke=n.n(Ve),$e=Object(d.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},color:"red"}}}));function et(){var e=$e();return(r.a.createElement("div",{className:Ke.a.main},r.a.createElement(qe.a,{classes:e.root}),"\xa0 \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."))}var tt=n(10),nt=function(e){return e.usersPage.users},at=function(e){return e.usersPage.totalUsersCount},rt=function(e){return e.usersPage.currentPage},ot=function(e){return e.usersPage.pageSize},it=function(e){return e.usersPage.pagesLimit},st=function(e){return e.usersPage.isFetching},lt=function(e){return e.usersPage.inProcess},ct=function(e){return e.usersPage.usersFollowing},ut=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.createThunkGetElseUsers(t,e.props.pageSize)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.createThunkGetUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(et,null):null,r.a.createElement(Ze,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,users:this.props.users,isFetching:this.props.isFetching,inProcess:this.props.inProcess,usersFollowing:this.props.usersFollowing,followThunkCreator:this.props.followThunkCreator,unfollowThunkCreator:this.props.unfollowThunkCreator}))}}]),n}(r.a.Component),pt=Object(tt.d)(Object(pe.b)((function(e){return{users:nt(e),totalUsersCount:at(e),currentPage:rt(e),pageSize:ot(e),pagesLimit:it(e),isFetching:st(e),inProcess:lt(e),usersFollowing:ct(e)}}),{setTotalUsersCount:xe,createThunkGetUsers:function(e,t){return function(){var n=Object(Z.a)(Y.a.mark((function n(a){var r;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Ae(!0)),n.next=3,K(e,t);case 3:r=n.sent,a(Ae(!1)),a(Se(r.data.items)),a(xe(r.data.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},createThunkGetElseUsers:function(e,t){return function(){var n=Object(Z.a)(Y.a.mark((function n(a){var r;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Ae(!0)),n.next=3,$(e,t);case 3:r=n.sent,a(Ae(!1)),a(Se(r.data.items)),a(xe(r.data.totalCount)),a(Ue(e));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followThunkCreator:function(e){return function(){var t=Object(Z.a)(Y.a.mark((function t(n){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Le(n,e,ae.followApi.bind(ae),Ne);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowThunkCreator:function(e){return function(){var t=Object(Z.a)(Y.a.mark((function t(n){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Le(n,e,ae.unfollowApi.bind(ae),Te);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(ut),mt={profile:null,status:""},ft=function(e){return{type:"profile/GET_USER_STATUS",status:e}},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/GET_PROFILE":return Object(q.a)({},e,{profile:t.profile});case"profile/GET_USER_STATUS":return Object(q.a)({},e,{status:t.status});case"profile/LOAD_USER_PHOTO":return Object(q.a)({},e,{profile:Object(q.a)({},e.profile,{photos:t.photos})});default:return e}},ht=n(186),gt=n.n(ht),Et=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.directEditMode=function(){e.setState({editMode:!0})},e.redirectEditMode=function(){e.setState({editMode:!1}),e.props.deactivate(e.state.status)},e.changeStatus=function(t){e.setState({status:t.currentTarget.value})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return r.a.createElement("div",{className:gt.a.main},!this.state.editMode&&r.a.createElement("span",{onDoubleClick:this.directEditMode},this.props.status||"not status"),this.state.editMode&&r.a.createElement("input",{autoFocus:!0,onBlur:this.redirectEditMode,value:this.state.status,onChange:this.changeStatus}))}}]),n}(r.a.Component),bt=n(194),vt=n.n(bt),_t=n(191),Ot=n.n(_t),wt=n(193),yt=n.n(wt),jt=n(192),Ct=n.n(jt),kt=n(411),Pt=n(410),Nt=n(200),Tt=n(190),St=n.n(Tt),xt=n(419),Ut=n(412),At=n(136),It=n(409),Lt=n(417);var Mt=function(){return a.createElement(At.b,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(e,t){var n=t.setSubmitting;setTimeout((function(){n(!1),alert(JSON.stringify(e,null,2))}),500)}},(function(e){e.submitForm,e.isSubmitting;return(a.createElement(At.a,null,a.createElement(It.a,{control:a.createElement(Lt.a,{name:"checkedB",color:"primary"}),label:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"})))}))},Ft=Object(d.a)({root:{width:"100%",margin:"0 auto",paddingTop:"50px",textAlign:"center",fontWeight:"700",fontSize:"20px",display:"flex",flexDirection:"column",alignItems:"center"},media:{height:0,paddingTop:"70%"},paper:{width:275,marginTop:"20px","&:hover":{backgroundColor:"#eceff1"}},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},element:{display:"flex",justifyContent:"left",marginLeft:"20px",maxWidth:"70%",marginBottom:"10px"},elementChild:{marginLeft:"20px"},addPhotoBtn:{color:"black",backgroundColor:"#0091ea"},alertPaper:{width:"280px",height:"100px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#eeeeee"},alertPaperTitle:{textAlign:"center",color:"red"},alertPaperInput:{marginTop:"15px"}}),Dt=function(e){var t=r.a.useState(null),n=Object(f.a)(t,2),a=n[0],o=n[1],i=r.a.useState(!1),s=Object(f.a)(i,2),l=s[0],c=s[1],u=r.a.useState(),p=Object(f.a)(u,2),m=p[0],d=p[1],h=Ft();if(!e.profile)return r.a.createElement(et,null);var g,b=function(t){t.currentTarget.files.length&&e.loadProfilePhoto(t.currentTarget.files[0])};return(r.a.createElement("div",{className:h.root},"Profile page",r.a.createElement(Pt.a,null),r.a.createElement(Nt.a,{elevation:3,className:h.paper},r.a.createElement("div",{className:h.wrapperProfile},r.a.createElement(kt.a,{className:h.media,image:e.profile.photos.large?e.profile.photos.large:De.a,title:"user icon",alt:"user icon"}),r.a.createElement(xt.a,{open:l,anchorEl:a,placement:m,transition:!0},(function(e){var t=e.TransitionProps;return(r.a.createElement(Ut.a,Object.assign({},t,{timeout:350}),r.a.createElement(Nt.a,null,r.a.createElement(E.a,{className:h.typography},r.a.createElement(Nt.a,{className:h.alertPaper},r.a.createElement("div",{className:h.alertPaperTitle},"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e (\u043d\u0435 \u0431\u043e\u043b\u0435\u0435 10 Mb)"),r.a.createElement("input",{type:"file",className:h.alertPaperInput,onChange:b}))))))})),e.isOwner?r.a.createElement(k.a,{"aria-label":"delete",className:h.addPhotoBtn,onClick:(g="top",function(e){o(e.currentTarget),c((function(e){return m!==g||!e})),d(g)})},r.a.createElement(St.a,null)):null,r.a.createElement(Pt.a,null),r.a.createElement("div",{className:h.element},r.a.createElement(Ot.a,null),r.a.createElement("div",{className:h.elementChild},r.a.createElement(Et,{status:e.status,deactivate:e.deactivate}))),r.a.createElement("div",{className:h.element},r.a.createElement(Ct.a,null),r.a.createElement("div",{className:h.elementChild},e.profile.fullName)),r.a.createElement("div",{className:h.element},r.a.createElement(yt.a,null),r.a.createElement("div",{className:h.elementChild},r.a.createElement("a",{href:e.profile.contacts.twitter},"twitter"))),r.a.createElement("div",{className:h.element},r.a.createElement(vt.a,null),r.a.createElement("div",{className:h.elementChild},r.a.createElement("a",{href:e.profile.contacts.instagram},"instagram")))),r.a.createElement(Mt,null))))},Gt=function(e){return{isAuth:e.auth.isAuth}},Rt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(s.a)(this,n),t.call(this)}return Object(l.a)(n,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authId)||this.props.history.push("/login"),e?(this.props.thunkCreatorGetProfile(e),this.props.getUStatus(e)):console.error("ID should exists in URI params or in state ('authorizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(Dt,Object.assign({},this.props,{profile:this.props.profile,deactivate:this.props.updateUStatus,isOwner:!this.props.match.params.userId,loadProfilePhoto:this.props.loadProfilePhoto}))}}]),n}(r.a.Component),Wt=Object(tt.d)(_e.f,(function(e){var t=function(t){Object(c.a)(a,t);var n=Object(u.a)(a);function a(){return Object(s.a)(this,a),n.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(_e.a,{to:"/Login"})}}]),a}(r.a.Component);return Object(pe.b)(Gt)(t)}),Object(pe.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authId:e.auth.id}}),{thunkCreatorGetProfile:function(e){return function(t){(function(e){return V.get("profile/"+e)})(e).then((function(e){t({type:"profile/GET_PROFILE",profile:e.data})}))}},getUStatus:function(e){return function(t){(function(e){return V.get("profile/status/"+e)})(e).then((function(e){t(ft(e.data))}))}},updateUStatus:function(e){return function(t){(function(e){return V.put("profile/status",{status:e})})(e).then((function(n){0===n.data.resultCode&&t(ft(e))}))}},loadProfilePhoto:function(e){return function(){var t=Object(Z.a)(Y.a.mark((function t(n){var a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.savePhoto(e);case 2:a=t.sent,n({type:"profile/LOAD_USER_PHOTO",photos:a.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(Rt),Bt=n(172),zt=n(171),Ht=n(198),Jt=n(73),Qt=n.n(Jt),Xt=function(e){var t=e.input,n=e.meta,a=Object(Ht.a)(e,["input","meta"]),o=n.touched&&n.error;return r.a.createElement("div",{className:Qt.a.main+" "+(o?Qt.a.error:" ")},r.a.createElement("div",{className:Qt.a.a},r.a.createElement("input",Object.assign({},t,a))),r.a.createElement("div",null,o&&r.a.createElement("span",null,n.error)))},Yt=n(50),Zt=n.n(Yt),qt=n(418),Vt=n(196),Kt=n.n(Vt),$t=Object(Bt.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:Zt.a.formWrapper},r.a.createElement("div",{className:Zt.a.formInput},r.a.createElement(zt.a,{placeholder:"email",name:"email",component:Xt,className:Zt.a.in})),r.a.createElement("br",null),r.a.createElement("div",{className:Zt.a.formInput},r.a.createElement(zt.a,{placeholder:"password",name:"password",type:"password",component:Xt,className:Zt.a.in})),r.a.createElement("div",{className:Zt.a.fromCheck},r.a.createElement(zt.a,{name:"rememberMe",type:"checkbox",component:Xt}),"\u0437\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c"),e.error&&r.a.createElement("div",{className:Qt.a.error},e.error),r.a.createElement(b.a,{label:"Submit",type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"}},"login"))})),en=Object(tt.d)(Object(pe.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:le,logout:ce}),_e.f)((function(e){return e.isAuth?r.a.createElement(_e.a,{to:"/profile"}):r.a.createElement("div",{className:Zt.a.mainLogin},r.a.createElement("div",{className:Zt.a.l},r.a.createElement("h1",null,"Login"),r.a.createElement(qt.a,{style:{backgroundColor:"#303952"}},r.a.createElement(Kt.a,{style:{backgroundColor:"#303952"}}))),r.a.createElement($t,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),tn=function(){return r.a.createElement("div",{className:he.a.Main},r.a.createElement(ve,null),r.a.createElement(_e.b,{path:"/news/",render:function(){return r.a.createElement(ye,null)}}),r.a.createElement(_e.b,{exact:!0,path:"/users/",render:function(){return r.a.createElement(pt,null)}}),r.a.createElement(_e.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Wt,null)}}),r.a.createElement(_e.b,{path:"/Login",render:function(){return r.a.createElement(en,null)}}))},nn={initialised:!1},an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/START_APP":return Object(q.a)({},e,{initialised:!0});default:return e}},rn={posts:[{id:1,text:"one",like:"23"},{id:2,text:"two",like:"24"},{id:3,text:"three",like:"67"},{id:4,text:"four",like:"89"},{id:5,text:"five",like:"34"}]},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"posts/ADD_POST":return Object(q.a)({},e,{posts:[].concat(Object(je.a)(e.posts),[{text:t.postText,like:"1488"}])});case"posts/DELETE_POST":return Object(q.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.id}))});default:return e}},sn={dialogs:[{id:1,name:"Igor"},{id:2,name:"Egor"},{id:3,name:"Nina"},{id:4,name:"Georgiy"},{id:5,name:"Ivan"}],messages:[{text:"Wow!"},{text:"Great"},{text:"Sorry"},{text:"Ok"}]},ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":var n=t.messageInput;return Object(q.a)({},e,{messages:[].concat(Object(je.a)(e.messages),[{text:n}])});default:return e}},cn=n(197),un=n(173),pn=Object(tt.c)({postsPage:on,dialogsPage:ln,usersPage:Me,profilePage:dt,auth:ue,form:un.a,app:an}),mn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||tt.d,fn=Object(tt.e)(pn,mn(Object(tt.a)(cn.a)));window.store=fn;var dn=fn,hn=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentWillMount",value:function(){this.props.initialApp()}},{key:"render",value:function(){return this.props.initialised?r.a.createElement("div",{className:m.a.App},r.a.createElement(fe,null),r.a.createElement(tn,null)):r.a.createElement(et,null)}}]),n}(a.Component),gn=Object(tt.d)(_e.f,Object(pe.b)((function(e){return{initialised:e.app.initialised}}),{initialApp:function(){return function(e){var t=e(le());Promise.all([t]).then((function(){e({type:"app/START_APP"})}))}}}))(hn),En=function(){return r.a.createElement(v.a,null,r.a.createElement(pe.a,{store:dn},r.a.createElement(gn,null)))};i.a.render(r.a.createElement(En,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},42:function(e,t,n){e.exports={mainUsers:"Users_mainUsers__3QJOT",usersWrapper:"Users_usersWrapper__21Mq2",usersInfo:"Users_usersInfo__34rLk",usersIcon:"Users_usersIcon__zun_l",usersName:"Users_usersName__2QCYy",usersStatus:"Users_usersStatus__e6slQ",tip:"Users_tip__2ydfB",paginationMain:"Users_paginationMain__lE28c",paginationSecond:"Users_paginationSecond__3DF0m"}},50:function(e,t,n){e.exports={mainLogin:"Login_mainLogin__7nygr",formWrapper:"Login_formWrapper__3jTHH",formInput:"Login_formInput__1GnBn",fromCheck:"Login_fromCheck__3QiWM",in:"Login_in__2BYRQ",l:"Login_l__2Ga6M"}},73:function(e,t,n){e.exports={main:"Input_main__FNMhB",error:"Input_error__2pOyW",a:"Input_a__3OOqP"}},90:function(e,t,n){e.exports={Drawer:"Drawer_Drawer__1F61I",icon:"Drawer_icon__3mbAW",text:"Drawer_text__3WWYX",close:"Drawer_close__3rS3w"}}},[[228,1,2]]]);
//# sourceMappingURL=main.34244169.chunk.js.map