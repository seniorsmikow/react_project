{"version":3,"sources":["img/img_568657.png","Components/Main/Navbar/Navbar.module.css","Components/Menu/Menu.module.css","App.module.css","Components/Menu/Backdrop/Backdrop.module.css","Components/Main/Main.module.css","Components/Loader/Loader.module.css","Components/Main/Profile/Status/Status.module.css","serviceWorker.js","Components/Menu/Backdrop/Backdrop.js","Components/Menu/Drawer/Drawer.js","Components/Menu/Menu.js","Components/Header/Header.jsx","Api/api.js","Redux/auth-reducer.js","Components/Header/HeaderContainer.js","Components/Main/Navbar/Navbar.jsx","Components/Main/News/News.jsx","utilits/object-helpers.js","Redux/users-reducer.js","Components/Main/Users/Users.js","Components/Loader/Loader.js","Redux/users-selectors.js","Components/Main/Users/UsersContainer.js","Redux/profile-reducer.js","Components/Main/Profile/Status/Status.js","Components/Forms/ProfileForm/ProfileForm.js","Components/Main/Profile/Profile.js","Hoc/withRedirect.js","Components/Main/Profile/ProfileComponent.js","Components/Textarea/Input.js","Components/Login/Login.js","Components/Main/Main.jsx","Redux/app-reducer.js","Redux/posts-reducer.js","Redux/dialogs-reducer.js","Redux/redux-store.js","App.js","index.js","Components/Main/Users/Users.module.css","Components/Login/Login.module.css","Components/Textarea/Input.module.css","Components/Menu/Drawer/Drawer.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","Backdrop","props","className","classes","onClick","links","to","label","icon","Drawer","map","elem","index","key","onToggle","ListItem","button","DrawerWrapper","ListItemIcon","ListItemText","primary","text","cls","this","isOpen","push","close","Fragment","join","renderLinks","React","Component","MenuToggle","open","IconButton","edge","color","aria-label","useStyles","makeStyles","theme","root","flexGrow","position","width","backgroundColor","zIndex","menuButton","marginRight","spacing","title","nav","fontSize","login","display","minWidth","justifyContent","alignItems","ButtonAppBar","useState","editMode","setEditMode","AppBar","Toolbar","Hidden","only","Typography","variant","isAuth","Button","logout","instance","axios","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","getElseUsers","authAPI","email","password","rememberMe","post","delete","usersAPI","followApi","userId","unfollowApi","savePhoto","photoFile","formData","FormData","append","put","then","res","data","initialState","id","setAuth","type","getMyApiThunk","dispatch","response","resultCode","a","message","messages","length","stopSubmit","_error","authReducer","state","action","HeaderContainer","connect","auth","Navbar","smDown","Grid","item","xl","lg","md","sm","Main","Ul","padding","margin","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","News","Card","src","frameborder","allow","allowfullscreen","updateObjectInArray","items","itemId","objPropName","newObjProps","users","FOLLOW","totalUsersCount","pagesLimit","isFetching","inProcess","usersFollowing","follow","unfollow","setUsers","setTotalUsersCount","totalCount","changeCurrentPage","toggleIsFetching","loading","followInProcess","followUnfollowType","apiMethod","actionCreator","usersReducer","followed","filter","user","marginTop","info","top","right","Alert","elevation","Users","styles","setOpen","handleClose","event","reason","pagesCount","Math","ceil","pages","i","mainUsers","tip","Fab","size","disableFocusRipple","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","paginationMain","Pagination","count","shape","page","showFirstButton","showLastButton","onChange","onPageChanged","paginationSecond","defaultPage","siblingCount","usersWrapper","usersInfo","usersIcon","alt","photos","small","usersStatus","status","usersName","name","style","disabled","some","unfollowThunkCreator","followThunkCreator","CircularIndeterminate","main","CircularProgress","usersPage","getTotalUsersCount","getCurrentPage","getPageSize","getPagesLimit","getIsFetching","getInProcess","getUsersFollowing","UsersAPIContainer","createThunkGetElseUsers","createThunkGetUsers","UsersContainer","compose","bind","profile","getUserStatus","profileReducer","Status","directEditMode","setState","redirectEditMode","deactivate","changeStatus","e","currentTarget","value","prevProps","prevState","onDoubleClick","autoFocus","onBlur","ProfileForm","initialValues","validate","values","errors","test","onSubmit","setSubmitting","setTimeout","alert","JSON","stringify","submitForm","isSubmitting","FormControlLabel","control","Checkbox","textAlign","fontWeight","flexDirection","paper","bullet","pos","marginBottom","element","maxWidth","elementChild","addPhotoBtn","alertPaper","alertPaperTitle","alertPaperInput","Profile","anchorEl","setAnchorEl","placement","setPlacement","newPlacement","submitPhoto","files","loadProfilePhoto","Divider","Paper","wrapperProfile","CardMedia","image","large","Popper","TransitionProps","Fade","timeout","typography","isOwner","prev","fullName","href","contacts","twitter","instagram","mapStateToProps","ProfileComponent","params","authId","history","thunkCreatorGetProfile","getUStatus","console","error","refreshProfile","updateUStatus","ProfileContainer","withRouter","redirectComponent","profilePage","getProfileApi","getStatus","updateStatus","Input","input","meta","hasError","touched","LoginReduxForm","reduxForm","form","handleSubmit","formWrapper","formInput","Field","placeholder","component","in","fromCheck","LoginCompose","mainLogin","l","Avatar","path","render","exact","initialised","appReducer","posts","like","postsReducer","postText","dialogs","dialogsReducer","body","messageInput","reducersBuild","combineReducers","postsPage","dialogsPage","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","AppContainer","initialApp","App","promise","Promise","all","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.57c3701d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/img_568657.d9f433b0.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"Navbar_Navbar__TvsWb\",\"Main\":\"Navbar_Main__3pDXn\",\"Ul\":\"Navbar_Ul__3GGIe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuToggle\":\"Menu_MenuToggle__c7C7Q\",\"open\":\"Menu_open__1jA4v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__108hJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__1LmBK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Main_Main__2lRLJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Loader_main__2Tae-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Status_main__3Vf-5\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport classes from './Backdrop.module.css';\r\n\r\nconst Backdrop = props => {\r\n    return (<div className={classes.Backdrop} onClick={props.onClick}></div>)\r\n};\r\n\r\nexport default Backdrop;","import React from 'react';\r\nimport classes from './Drawer.module.css';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nconst links = [\r\n    {to: '/profile', label: 'Профиль', icon: <PersonIcon />},\r\n    {to: '/users', label: 'Пользователи', icon: <GroupIcon />},\r\n    {to: '/news', label: 'Новости', icon: <MenuBookIcon />},\r\n];\r\n\r\n\r\nclass Drawer extends React.Component {\r\n\r\n    renderLinks() {\r\n\r\n        return links.map((elem, index) => {\r\n            return (\r\n                <NavLink to={elem.to} key={index} onClick={this.props.onToggle} >\r\n                    <ListItem button  className={classes.DrawerWrapper} >\r\n                        <ListItemIcon>{elem.icon}</ListItemIcon>\r\n                        <ListItemText primary={elem.label} className={classes.text}/>\r\n                    </ListItem>\r\n                </NavLink>\r\n            )\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const cls = [classes.Drawer];\r\n\r\n        if(!this.props.isOpen) {\r\n            cls.push(classes.close);\r\n        }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <nav className={cls.join(' ')}>\r\n                    <ul>\r\n                        {this.renderLinks()}\r\n                    </ul>\r\n                </nav>\r\n                {this.props.isOpen ? <Backdrop /> : null}\r\n            </React.Fragment>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Drawer;","import React from 'react';\r\nimport classes from './Menu.module.css';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Drawer from './Drawer/Drawer';\r\n\r\nconst MenuToggle = props => {\r\n\r\n    const cls = [\r\n        classes.MenuToggle,\r\n    ];\r\n \r\n    if(props.isOpen) {\r\n        cls.push(classes.open);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Drawer isOpen={props.isOpen} onToggle={props.onToggle}/>\r\n            <IconButton edge=\"start\" className={cls.join(' ')} onClick={props.onToggle} color=\"inherit\" aria-label=\"menu\">\r\n                {props.isOpen ? <CloseIcon /> : <MenuIcon />}\r\n            </IconButton>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default MenuToggle;","import React, {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport MenuToggle from '../Menu/Menu';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    position: 'fixed',\r\n    width: '100%',\r\n    backgroundColor: '#25323a',\r\n    zIndex: 2,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  nav: {\r\n    color: '#fff',\r\n    fontSize: 20\r\n  },\r\n  login: {\r\n      display: 'flex',\r\n      minWidth: 250,\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      fontSize: 20\r\n  },\r\n}));\r\n\r\nexport default function ButtonAppBar(props) {\r\n  const classes = useStyles();\r\n\r\n  let [editMode, setEditMode] = useState(false);\r\n\r\n  let toggleMenuHandler = () => {\r\n    setEditMode(!editMode);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" className={classes.root}>\r\n        <Toolbar>\r\n          <MenuToggle isOpen={editMode} onToggle={toggleMenuHandler} />\r\n          <Hidden only=\"xs\">\r\n            <Typography variant=\"h6\"  className={classes.title}>\r\n              React Project\r\n            </Typography>\r\n          </Hidden>\r\n          { props.isAuth\r\n                ? <div className={classes.login}>\r\n                    <Hidden only=\"xs\">\r\n                      <PersonIcon />\r\n                      {props.login}\r\n                    </Hidden>\r\n                    <Button  variant=\"contained\" color=\"secondary\" onClick={props.logout} >\r\n                      logout\r\n                    </Button>\r\n                  </div>\r\n                : <NavLink className={classes.nav} to={'/login'}>Login</NavLink> }\r\n        </Toolbar> \r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\"API-KEY\": \"141828eb-3df1-4887-9f23-4db2de9814c8\"}, \r\n});\r\n\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`);\r\n};\r\n\r\nexport const getElseUsers = (currentPage, pageSize) => {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`);\r\n};\r\n\r\nexport const getProfileApi = (userId) => {\r\n    return instance.get(`profile/` + userId);\r\n};\r\n\r\nexport const getStatus = (userId) => {\r\n    return instance.get(`profile/status/` + userId);\r\n};\r\n\r\nexport const updateStatus = (status) => {\r\n    return instance.put(`profile/status`, {status});\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    },\r\n\r\n};\r\n\r\nexport const usersAPI = {\r\n    followApi(userId) {\r\n        return instance.post(`follow/` + userId);\r\n    },\r\n    unfollowApi(userId) {\r\n        return instance.delete(`follow/` + userId);\r\n    },\r\n    savePhoto(photoFile) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data);\r\n    }\r\n};\r\n","import { authAPI } from '../Api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_AUTH_DATA = 'auth/SET_AUTH_DATA';\r\n\r\nlet initialState = {\r\n    email: null,\r\n    id: null,\r\n    login: null,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_AUTH_DATA:\r\n        {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            };\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuth = (email, id, login, isAuth) => {\r\n    return {\r\n        type: SET_AUTH_DATA,\r\n        data: {\r\n            email,\r\n            id,\r\n            login,\r\n            isAuth\r\n        }\r\n    };\r\n};\r\n\r\nexport const getMyApiThunk = () => (dispatch) => {\r\n    authAPI.me()\r\n        .then(response => {\r\n        if(response.data.resultCode === 0) {\r\n            let {email, id, login} = response.data.data;\r\n            dispatch(setAuth(email, id, login, true));\r\n        }\r\n    });\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(getMyApiThunk());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n};\r\n\r\nexport const logout = () => {\r\n    return (dispatch) => {\r\n        authAPI.logout()\r\n        .then(response => {\r\n            if(response.data.resultCode === 0) {\r\n                dispatch(setAuth(null, null, null, false));\r\n            }\r\n        });\r\n    };\r\n};\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport ButtonAppBar from './Header';\r\nimport {getMyApiThunk, logout} from '../../Redux/auth-reducer';\r\nimport {connect} from 'react-redux';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getMyApiThunk();\r\n    }\r\n\r\n    render() {\r\n        return <ButtonAppBar {...this.props} />\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, {getMyApiThunk, logout})(HeaderContainer);\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <Hidden smDown >\r\n            <Grid item xl={2} lg={3} md={4} sm={12} >\r\n                <div className={classes.Navbar}>\r\n                    <div className={classes.Main}>\r\n                        <ul className={classes.Ul}>\r\n                            <li><NavLink to=\"/News\">Новости</NavLink></li>\r\n                            <li><NavLink to=\"/Users\">Пользователи</NavLink></li>\r\n                            <li><NavLink to=\"/Profile\">Профиль</NavLink></li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </Grid>\r\n        </Hidden>\r\n    )\r\n};\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        padding: '3%',\r\n        margin: '5%',\r\n        width: '100%',\r\n    },\r\n    media: {\r\n      height: 0,\r\n      paddingTop: '56.25%', // 16:9\r\n    },\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    \r\n}));\r\n\r\n\r\nconst News = () => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n            <Card className={classes.root}>\r\n                <iframe title=\"newsPage\" width=\"560\" height=\"315\"  src=\"https://www.youtube.com/embed/xJZa2_aldDs\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n            </Card>\r\n\r\n    )\r\n}\r\n\r\nexport default News;\r\n\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(users => {\r\n        if(users[objPropName] === itemId) {\r\n            return {...users, ...newObjProps};\r\n        }\r\n        return users; \r\n    });\r\n};\r\n    ","import {getUsers, getElseUsers, usersAPI} from '../Api/api';\r\nimport {updateObjectInArray} from '../utilits/object-helpers';\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\r\nconst CHANGE_CURRENT_PAGE = 'users/CHANGE_CURRENT_PAGE';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst FOLLOW_IN_PROCESS = 'users/FOLLOW_IN_PROCESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    pagesLimit: 10,\r\n    isFetching: true,\r\n    inProcess: false,\r\n    usersFollowing: [],\r\n};\r\n\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case FOLLOW: \r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n                \r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            };\r\n        case SET_USERS: \r\n            return {\r\n                ...state, users: [...action.users]\r\n            };\r\n        case SET_TOTAL_USERS_COUNT: \r\n            return {\r\n                ...state, totalUsersCount: action.totalCount\r\n            };\r\n        case CHANGE_CURRENT_PAGE: \r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            };\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.loading\r\n            }\r\n        case FOLLOW_IN_PROCESS:\r\n            return {\r\n                ...state,\r\n                inProcess: action.inProcess,\r\n                usersFollowing: action.inProcess ? \r\n                    [...state.usersFollowing, action.userId] :\r\n                    state.usersFollowing.filter(user => user !== action.userId)\r\n\r\n            };\r\n        default: \r\n            return state;    \r\n    }  \r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    };\r\n};\r\nexport const unfollow = (userId) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    };\r\n};\r\n\r\nexport const setUsers = (users) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    };\r\n};\r\n\r\nexport const setTotalUsersCount = (totalCount) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        totalCount\r\n    };\r\n};\r\n\r\nexport const changeCurrentPage = (currentPage) => {\r\n    return {\r\n        type: CHANGE_CURRENT_PAGE,\r\n        currentPage\r\n    };\r\n};\r\n\r\nexport const toggleIsFetching = (loading) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        loading\r\n    }\r\n};\r\n\r\nexport const followInProcess = (inProcess, userId) => {\r\n    return {\r\n            type: FOLLOW_IN_PROCESS, \r\n            inProcess, \r\n            userId\r\n        };\r\n};\r\n\r\nexport const createThunkGetUsers = (currentPage, pageSize) => {\r\n\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let response = await getUsers(currentPage, pageSize);\r\n        \r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(response.data.items));\r\n        dispatch(setTotalUsersCount(response.data.totalCount));                           \r\n            \r\n    }\r\n};\r\n\r\nexport const createThunkGetElseUsers = (currentPage, pageSize) => {\r\n\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let response = await getElseUsers(currentPage, pageSize);\r\n        \r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(response.data.items));\r\n        dispatch(setTotalUsersCount(response.data.totalCount));\r\n        dispatch(changeCurrentPage(currentPage));\r\n            \r\n    }\r\n};\r\n\r\nlet followUnfollowType = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(followInProcess(true, userId));\r\n\r\n    let response = await apiMethod(userId);\r\n\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n\r\n    dispatch(followInProcess(false, userId));\r\n};\r\n\r\nexport const followThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowType(dispatch, userId, usersAPI.followApi.bind(usersAPI), follow);\r\n    }\r\n};\r\n\r\nexport const unfollowThunkCreator = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowType(dispatch, userId, usersAPI.unfollowApi.bind(usersAPI), unfollow);\r\n    };\r\n};\r\n\r\n\r\nexport default usersReducer;\r\n","import React from 'react';\r\nimport icon from '../../../img/img_568657.png';\r\nimport classes from './Users.module.css';\r\nimport {NavLink}  from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport Button from '@material-ui/core/Button';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport PriorityHighIcon from '@material-ui/icons/PriorityHigh';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      '& > *': {\r\n        marginTop: theme.spacing(2),\r\n      },\r\n    },\r\n    info: {\r\n        position: 'fixed',\r\n        top: 90,\r\n        right: 20,\r\n        backgroundColor: '#25323a',\r\n        zIndex: 1,\r\n        \"&:hover\": {\r\n            backgroundColor: \"#25323a\"\r\n        },\r\n    },\r\n    'MuiPagination-ul': {\r\n        backgroundColor: 'red'\r\n    }\r\n}));\r\n\r\nconst Alert = (props) => {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n\r\nconst Users = (props) => {   \r\n    \r\n    const styles = useStyles();\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClick = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n        return;\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for(let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.mainUsers}>\r\n            <div className={classes.tip}>\r\n                <Fab  color=\"primary\" aria-label=\"add\" onClick={handleClick} className={styles.info} size=\"medium\" disableFocusRipple={true}>\r\n                    <PriorityHighIcon />\r\n                </Fab>\r\n                <Snackbar open={open} autoHideDuration={6000} onClose={handleClose} anchorOrigin={{vertical: 'top', horizontal: 'right'}} >\r\n                    <Alert onClose={handleClose} severity=\"info\">\r\n                    Всего зарегистрировано {props.totalUsersCount} человек\r\n                    </Alert>\r\n                </Snackbar>\r\n            </div>\r\n            <div>\r\n                <div className={classes.paginationMain}>\r\n                    <Pagination color=\"secondary\" \r\n                                count={pagesCount} \r\n                                shape=\"rounded\" \r\n                                page={props.currentPage}\r\n                                showFirstButton={true} \r\n                                showLastButton={true} \r\n                                className={classes.paginationMain}\r\n                                onChange = {(event, pages) => {props.onPageChanged(pages)}} \r\n                    />\r\n                </div>\r\n                <div className={classes.paginationSecond}>\r\n                    <Pagination count={pagesCount} \r\n                                defaultPage={6} \r\n                                siblingCount={0} \r\n                                onChange = {(event, pages) => {props.onPageChanged(pages)}} \r\n                    />\r\n                </div>\r\n            </div>\r\n            \r\n            <br />\r\n            <div className={classes.usersWrapper}>\r\n                {props.users.map((users, index) => {\r\n                        return <div className={classes.usersInfo} key={index}>\r\n                                    <div className={classes.usersIcon}>    \r\n                                        <NavLink to={'/profile/' + users.id} >\r\n                                            <img alt=\"user icon\" src={users.photos.small ? users.photos.small : icon}/>\r\n                                        </NavLink>   \r\n                                    </div>\r\n                                            <div className={classes.usersStatus}>\r\n                                                {users.status ? users.status : \"user's status\"}\r\n                                            </div>\r\n                                            <div className={classes.usersName}>\r\n                                                {users.name}\r\n                                            </div>\r\n                                            <div>\r\n                                                {\r\n                                                    (users.followed ? <Button  variant=\"contained\" style={{backgroundColor: '#f44336'}}\r\n                                                        disabled={props.usersFollowing.some(id => id === users.id)} onClick={\r\n                                                        \r\n                                                        () => {\r\n                                                            props.unfollowThunkCreator(users.id);\r\n                                                        }\r\n\r\n                                                    }> unfollow </Button > : \r\n\r\n                                                                        <Button   variant=\"contained\" style={{backgroundColor: '#f44336'}}\r\n                                                                        disabled={props.usersFollowing.some(id => id === users.id)} onClick={\r\n                                                                            () => {\r\n                                                                                debugger;\r\n                                                                                props.followThunkCreator(users.id);\r\n                                                                            }\r\n                                                                        }> follow </Button >)\r\n                                                }\r\n                                            </div>\r\n                                </div>})\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;\r\n\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport classes from './Loader.module.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > * + *': {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n    color: 'red'\r\n  },\r\n}));\r\n\r\nexport default function CircularIndeterminate() {\r\n  const styles = useStyles();\r\n\r\n  return (\r\n    <div className={classes.main}>\r\n      <CircularProgress classes={styles.root} />\r\n      &nbsp;\r\n      Загрузка...\r\n    </div>\r\n  );\r\n}","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getPagesLimit = (state) => {\r\n    return state.usersPage.pagesLimit;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getInProcess = (state) => {\r\n    return state.usersPage.inProcess;\r\n};\r\n\r\nexport const getUsersFollowing = (state) => {\r\n    return state.usersPage.usersFollowing;\r\n};","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {createThunkGetUsers, createThunkGetElseUsers, setTotalUsersCount,  followThunkCreator, unfollowThunkCreator} from '../../../Redux/users-reducer';\r\nimport Users from './Users';\r\nimport Loader from '../../Loader/Loader';\r\nimport {compose} from 'redux';\r\nimport {getUsers, getTotalUsersCount, getCurrentPage, getPageSize, getPagesLimit, getIsFetching, getInProcess, getUsersFollowing} from '../../../Redux/users-selectors';\r\n\r\n\r\nclass UsersAPIContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.createThunkGetUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (currentPage) => {\r\n        \r\n        this.props.createThunkGetElseUsers(currentPage, this.props.pageSize);\r\n\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n                    {this.props.isFetching ? <Loader /> : null}\r\n                    <Users totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    onPageChanged={this.onPageChanged}\r\n                    currentPage={this.props.currentPage}\r\n                    users={this.props.users}\r\n                    isFetching={this.props.isFetching}\r\n                    inProcess={this.props.inProcess}\r\n                    usersFollowing={this.props.usersFollowing}\r\n                    followThunkCreator={this.props.followThunkCreator}\r\n                    unfollowThunkCreator={this.props.unfollowThunkCreator}\r\n                    />\r\n                </>\r\n      \r\n                    \r\n                \r\n    }\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        pageSize: getPageSize(state),\r\n        pagesLimit: getPagesLimit(state),\r\n        isFetching: getIsFetching(state),\r\n        inProcess: getInProcess(state),\r\n        usersFollowing: getUsersFollowing(state)\r\n    };\r\n};\r\n\r\nlet UsersContainer = compose(\r\n        connect(mapStateToProps, \r\n        {setTotalUsersCount, createThunkGetUsers, createThunkGetElseUsers, followThunkCreator, unfollowThunkCreator})\r\n        )\r\n        (UsersAPIContainer);\r\n\r\n\r\nexport default UsersContainer;","import {  getProfileApi, getStatus, updateStatus, usersAPI } from '../Api/api';\r\n\r\nconst GET_PROFILE = 'profile/GET_PROFILE';\r\nconst GET_USER_STATUS = 'profile/GET_USER_STATUS';\r\nconst LOAD_USER_PHOTO = 'profile/LOAD_USER_PHOTO';\r\n\r\nconst initialState = {\r\n    profile: null,\r\n    status: \"\",\r\n};\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case GET_PROFILE:\r\n            return {\r\n                ...state, profile: action.profile\r\n            };\r\n        case GET_USER_STATUS:\r\n            return {\r\n                ...state, status: action.status\r\n            };\r\n        case LOAD_USER_PHOTO: \r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photos}\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const getProfile = profile => ({type: GET_PROFILE, profile});\r\n\r\nexport const getUserStatus = status => ({type: GET_USER_STATUS, status});\r\n    \r\nexport const savePhoto = photos => ({type: LOAD_USER_PHOTO, photos});\r\n\r\n\r\n\r\nexport const thunkCreatorGetProfile = (userId) => {\r\n\r\n    debugger;\r\n\r\n    \r\n    return (dispatch) => {\r\n        getProfileApi(userId)\r\n        .then(response => {\r\n            dispatch(getProfile(response.data));\r\n        });\r\n    };\r\n};\r\n\r\nexport const getUStatus = (userId) => {\r\n    return (dispatch) => {\r\n        getStatus(userId)\r\n        .then(response => {\r\n            dispatch(getUserStatus(response.data));\r\n        });\r\n    };\r\n};\r\n\r\nexport const updateUStatus = (status) => {\r\n    return (dispatch) => {\r\n        updateStatus(status)\r\n        .then(response => {\r\n            if(response.data.resultCode === 0) {\r\n                dispatch(getUserStatus(status));\r\n            }\r\n        });\r\n    };\r\n};\r\n\r\nexport const loadProfilePhoto = photoFile => async dispatch => {\r\n    let data = await usersAPI.savePhoto(photoFile);\r\n    dispatch(savePhoto(data.data.photos));\r\n};\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport classes from './Status.module.css';\r\n\r\nclass Status extends React.Component {\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status,\r\n    }\r\n\r\n    directEditMode = () => {\r\n        this.setState(\r\n            {\r\n                editMode: true,\r\n            }\r\n        );\r\n    }\r\n\r\n    redirectEditMode = () => {\r\n        this.setState(\r\n            {\r\n                editMode: false\r\n            }\r\n        );\r\n        this.props.deactivate(this.state.status);\r\n    };\r\n\r\n    changeStatus = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        });\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className={classes.main}>\r\n                {!this.state.editMode &&\r\n                    <span onDoubleClick={this.directEditMode} >\r\n                        {this.props.status || \"not status\"}\r\n                    </span>\r\n                }\r\n                {this.state.editMode &&\r\n                    <input autoFocus={true} onBlur={this.redirectEditMode} value={this.state.status} onChange={this.changeStatus} />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Status;","import * as React from 'react';\r\nimport { Formik, Form} from 'formik';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\ninterface Values {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nfunction ProfileForm() {\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        email: '',\r\n        password: '',\r\n      }}\r\n      validate={values => {\r\n        const errors: Partial<Values> = {};\r\n        if (!values.email) {\r\n          errors.email = 'Required';\r\n        } else if (\r\n          !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)\r\n        ) {\r\n          errors.email = 'Invalid email address';\r\n        }\r\n        return errors;\r\n      }}\r\n      onSubmit={(values, { setSubmitting }) => {\r\n        setTimeout(() => {\r\n          setSubmitting(false);\r\n          alert(JSON.stringify(values, null, 2));\r\n        }, 500);\r\n      }}\r\n    >\r\n      {({ submitForm, isSubmitting }) => (\r\n        <Form>\r\n            <FormControlLabel\r\n                control={\r\n                            <Checkbox\r\n                                //checked={state.checkedF}\r\n                                //onChange={handleChange}\r\n                                name=\"checkedB\"\r\n                                color=\"primary\"\r\n                            />\r\n                        }\r\n                label=\"В поисках работы\"\r\n            />\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n\r\nexport default ProfileForm;","import React from 'react';\r\nimport Loader from '../../Loader/Loader';\r\nimport Status from './Status/Status';\r\nimport InstagramIcon from '@material-ui/icons/Instagram';\r\nimport RecordVoiceOverIcon from '@material-ui/icons/RecordVoiceOver';\r\nimport TwitterIcon from '@material-ui/icons/Twitter';\r\nimport LocalLibraryIcon from '@material-ui/icons/LocalLibrary';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport icon from '../../../img/img_568657.png';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport ProfileForm from '../../Forms/ProfileForm/ProfileForm';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n      width: '100%',\r\n      margin: '0 auto',\r\n      paddingTop: '50px',\r\n      textAlign: 'center',\r\n      fontWeight: '700',\r\n      fontSize: '20px',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    media: {\r\n        height: 0,\r\n        paddingTop: '70%', \r\n    },\r\n    paper: {\r\n        width: 275,\r\n        marginTop: '20px',\r\n        '&:hover': {\r\n            //transform: 'scale(1.02)',\r\n            backgroundColor: '#eceff1'\r\n        }\r\n    },\r\n    bullet: {\r\n      display: 'inline-block',\r\n      margin: '0 2px',\r\n      transform: 'scale(0.8)',\r\n    },\r\n    title: {\r\n      fontSize: 14,\r\n    },\r\n    pos: {\r\n      marginBottom: 12,\r\n    },\r\n    element: {\r\n        display: 'flex',\r\n        justifyContent: 'left',\r\n        marginLeft: '20px',\r\n        maxWidth: '70%',\r\n        marginBottom: '10px'\r\n    },\r\n    elementChild: {\r\n        marginLeft: '20px',\r\n    },\r\n    addPhotoBtn: {\r\n        color: 'black',\r\n        backgroundColor: '#0091ea'\r\n    },\r\n    alertPaper: {\r\n        width: '280px',\r\n        height: '100px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        backgroundColor: '#eeeeee'\r\n    },\r\n    alertPaperTitle: {\r\n        textAlign: 'center',\r\n        color: 'red'\r\n    },\r\n    alertPaperInput: {\r\n        marginTop: '15px',\r\n    },\r\n});\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [open, setOpen] = React.useState(false);\r\n    const [placement, setPlacement] = React.useState();\r\n    const classes = useStyles();\r\n\r\n    const handleClick = (newPlacement) => (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n        setOpen((prev) => placement !== newPlacement || !prev);\r\n        setPlacement(newPlacement);\r\n    };\r\n\r\n    if(!props.profile) {\r\n        return <Loader />\r\n    }\r\n\r\n    const submitPhoto = event => {\r\n        if(event.currentTarget.files.length) {\r\n            props.loadProfilePhoto(event.currentTarget.files[0]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            Profile page\r\n            <Divider />\r\n            <Paper elevation={3} className={classes.paper}>\r\n                <div className={classes.wrapperProfile}>\r\n                    <CardMedia\r\n                    className={classes.media}\r\n                    image={props.profile.photos.large ? props.profile.photos.large : icon}\r\n                    title=\"user icon\"\r\n                    alt=\"user icon\"\r\n                    />\r\n\r\n                    <Popper open={open} anchorEl={anchorEl} placement={placement} transition>\r\n                        {({ TransitionProps }) => (\r\n                        <Fade {...TransitionProps} timeout={350}>\r\n                            <Paper>\r\n                                <Typography className={classes.typography}>\r\n                                    <Paper className={classes.alertPaper}>\r\n                                        <div className={classes.alertPaperTitle}>\r\n                                            Сменить фотографию (не более 10 Mb)\r\n                                        </div>\r\n                                        <input type={\"file\"} className={classes.alertPaperInput} onChange={submitPhoto}/>\r\n                                    </Paper>\r\n                                </Typography>\r\n                            </Paper>\r\n                        </Fade>\r\n                        )}\r\n                    </Popper>\r\n\r\n                    {\r\n                        props.isOwner ? <IconButton aria-label=\"delete\" className={classes.addPhotoBtn} onClick={handleClick('top')}>\r\n                                            <BackupIcon />\r\n                                        </IconButton>\r\n                                    : null\r\n                    }\r\n                        \r\n                    <Divider />\r\n                    <div className={classes.element}>\r\n                        <RecordVoiceOverIcon />\r\n                        <div className={classes.elementChild}>\r\n                            <Status status={props.status} deactivate={props.deactivate}/>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className={classes.element}>\r\n                        <LocalLibraryIcon />\r\n                        <div className={classes.elementChild}>\r\n                            {props.profile.fullName}\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className={classes.element}>\r\n                        <TwitterIcon />\r\n                        <div className={classes.elementChild}>\r\n                            <a href={props.profile.contacts.twitter}>twitter</a>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classes.element}>\r\n                        <InstagramIcon />\r\n                        <div className={classes.elementChild}>\r\n                            <a href={props.profile.contacts.instagram}>instagram</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <ProfileForm />\r\n            </Paper>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Profile;","import { Redirect } from 'react-router-dom';\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withRedirect = (Component) => {\r\n\r\n    class redirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/Login'} />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let connectedComponent = connect(mapStateToProps)(redirectComponent);\r\n\r\n    return connectedComponent;\r\n};\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {thunkCreatorGetProfile, getUStatus, updateUStatus, loadProfilePhoto} from '../../../Redux/profile-reducer';\r\nimport Profile from './Profile';\r\nimport {withRedirect} from '../../../Hoc/withRedirect';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\n\r\nclass ProfileComponent extends React.Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n    }\r\n\r\n\r\n    refreshProfile() {\r\n\r\n        let userId = +this.props.match.params.userId;\r\n        if (!userId) {\r\n\r\n            userId = this.props.authId;\r\n            if (!userId) {\r\n                // todo: may be replace push with Redirect??\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n\r\n        if (!userId) {\r\n            console.error(\"ID should exists in URI params or in state ('authorizedUserId')\");\r\n        } else {\r\n            this.props.thunkCreatorGetProfile(userId);\r\n            this.props.getUStatus(userId);\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        \r\n        return <Profile \r\n                    {...this.props} \r\n                    profile={this.props.profile} \r\n                    deactivate={this.props.updateUStatus} \r\n                    isOwner={!this.props.match.params.userId}\r\n                    loadProfilePhoto={this.props.loadProfilePhoto}\r\n                />\r\n            \r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authId: state.auth.id\r\n    };\r\n};\r\n\r\nlet ProfileContainer = compose(\r\n    withRouter,\r\n    withRedirect,\r\n    connect(mapStateToProps, {thunkCreatorGetProfile, getUStatus, updateUStatus, loadProfilePhoto})\r\n    )\r\n    (ProfileComponent);\r\n\r\nexport default ProfileContainer;","import React from 'react';\r\nimport classes from './Input.module.css';\r\n\r\nconst Input = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={classes.main + \" \" + (hasError ? classes.error : \" \")}>\r\n            <div className={classes.a}>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Input;","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { connect } from 'react-redux';\r\nimport { login, logout } from '../../Redux/auth-reducer';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport { Field } from 'redux-form';\r\nimport Input from '../Textarea/Input';\r\nimport { compose } from 'redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport classes from '../Textarea/Input.module.css';\r\nimport styles from './Login.module.css';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={styles.formWrapper}>\r\n            <div className={styles.formInput}>\r\n                <Field placeholder={'email'} name={\"email\"} component={Input} className={styles.in}/>\r\n            </div>\r\n            <br />\r\n            <div className={styles.formInput}>\r\n                <Field placeholder={'password'} name={\"password\"} type={\"password\"} component={Input} className={styles.in}/>\r\n            </div>\r\n            <div className={styles.fromCheck}>\r\n                <Field \r\n                    name={\"rememberMe\"} type={\"checkbox\"} component={Input} \r\n                />\r\n                запомнить\r\n            </div>\r\n        {props.error && <div className={classes.error}>{props.error}</div>}\r\n            <Button label=\"Submit\" type=\"submit\" variant=\"contained\" color=\"primary\" style={{marginTop: '20px'}}>login</Button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => { \r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    } \r\n\r\n    return <div className={styles.mainLogin}>\r\n                <div className={styles.l}>\r\n                    <h1>Login</h1>\r\n                    <Avatar style={{backgroundColor: '#303952'}}>\r\n                        <LockOutlinedIcon style={{backgroundColor: '#303952'}}/>\r\n                    </Avatar>\r\n                </div>\r\n                <LoginReduxForm onSubmit={onSubmit} />\r\n            </div>\r\n        \r\n    \r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {isAuth: state.auth.isAuth}\r\n};\r\n\r\nconst LoginCompose = compose(\r\n    connect(mapStateToProps, {login, logout}),\r\n     withRouter,\r\n    //withRedirect\r\n)(Login);\r\n\r\n\r\nexport default LoginCompose;\r\n\r\n","import React from 'react';\r\nimport classes from './Main.module.css';\r\nimport Navbar from './Navbar/Navbar';\r\nimport { Route } from 'react-router-dom';\r\nimport News from './News/News';\r\nimport UsersContainer from './Users/UsersContainer';\r\nimport ProfileContainer from './Profile/ProfileComponent';\r\nimport LoginCompose  from '../Login/Login';\r\n\r\nconst Main = () => {\r\n\r\n    return (\r\n        \r\n        <div className={classes.Main}>\r\n            <Navbar />\r\n                <Route path='/news/' render={ () => <News /> } />\r\n                <Route exact path='/users/' render={ () => <UsersContainer />}/>\r\n                <Route path='/profile/:userId?' render={ () => <ProfileContainer />} />\r\n                <Route path='/Login' render={ () => <LoginCompose /> } />\r\n        </div>\r\n        \r\n    )\r\n\r\n};\r\n\r\nexport default Main;\r\n\r\n\r\n","import {login} from './auth-reducer';\r\n\r\nconst START_APP = 'app/START_APP';\r\n\r\nlet initialState = {\r\n    initialised: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case START_APP: {\r\n            return {\r\n                ...state,\r\n                initialised: true,\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n    \r\n};\r\n\r\nexport const letStart = () => {\r\n    return {\r\n        type: START_APP,\r\n    };\r\n};\r\n\r\nexport const initialApp = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(login());\r\n        Promise.all([promise]).then( () => {\r\n            dispatch(letStart());\r\n        });\r\n    };\r\n};\r\n\r\nexport default appReducer;\r\n","const ADD_POST = 'posts/ADD_POST';\r\nconst DELETE_POST = 'posts/DELETE_POST';\r\n\r\nlet initialState = {\r\n        posts: [\r\n            {id: 1, text: \"one\", like: \"23\" },\r\n            {id: 2, text: \"two\", like: \"24\" },\r\n            {id: 3, text: \"three\", like: \"67\" },\r\n            {id: 4, text: \"four\", like: \"89\" },\r\n            {id: 5, text: \"five\", like: \"34\"}\r\n        ],\r\n};\r\n\r\nconst postsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_POST:\r\n        {\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {text: action.postText, like: \"1488\"}]\r\n            };\r\n        }\r\n        case DELETE_POST:\r\n        {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(item => item.id !== action.id)\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n        \r\n};\r\n\r\nexport const addPost = (postText) => {\r\n    return {\r\n        type: ADD_POST,\r\n        postText\r\n    };\r\n};\r\n\r\nexport const deletePost = (id) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        id\r\n    };\r\n};\r\n\r\nexport default postsReducer;","const ADD_MESSAGE = 'ADD_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Igor' },\r\n        { id: 2, name: 'Egor' },\r\n        { id: 3, name: 'Nina' },\r\n        { id: 4, name: 'Georgiy' },\r\n        { id: 5, name: 'Ivan' },\r\n    ],\r\n    messages: [\r\n        { text: \"Wow!\" },\r\n        { text: \"Great\" },\r\n        { text: \"Sorry\" },\r\n        { text: \"Ok\" }\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_MESSAGE: {\r\n            let body = action.messageInput;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {text: body} ]\r\n            };\r\n        }\r\n        default: {\r\n            return state;\r\n        } \r\n    }\r\n};\r\n\r\nexport const actionCreatorAddPost = (messageInput) => {\r\n    return {\r\n        type: ADD_MESSAGE,\r\n        messageInput\r\n    };\r\n};\r\n\r\nexport default dialogsReducer;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport postsReducer from './posts-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport profileReducer from './profile-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport appReducer from './app-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nlet reducersBuild = combineReducers({\r\n    postsPage: postsReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    profilePage: profileReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(reducersBuild, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n\r\n//applyMiddleware(thunkMiddleware)","import React, {Component} from 'react';\r\nimport classes from './App.module.css';\r\nimport HeaderContainer from './Components/Header/HeaderContainer';\r\nimport Main from './Components/Main/Main';\r\nimport {initialApp} from './Redux/app-reducer';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport Loader from './Components/Loader/Loader';\r\nimport {Provider} from 'react-redux';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport store from './Redux/redux-store';\r\n\r\nclass AppContainer extends Component { \r\n\r\n  componentWillMount() {\r\n    this.props.initialApp();\r\n  }\r\n\r\n  render() {\r\n\r\n    if(!this.props.initialised) {\r\n      return <Loader />\r\n    }\r\n    \r\n    return  (<div className={classes.App}>\r\n              \r\n                  <HeaderContainer />\r\n                  <Main />\r\n                \r\n            </div>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    initialised: state.app.initialised\r\n  };\r\n};\r\n\r\nlet App = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {initialApp}),\r\n  \r\n)(AppContainer);\r\n\r\nlet MainApp = () => {\r\n  return  <HashRouter>\r\n            <Provider store={store}>\r\n              <App />\r\n            </Provider>\r\n          </HashRouter>\r\n};\r\n\r\nexport default MainApp;\r\n","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainApp from './App'\r\n\r\n\r\nReactDOM.render( <MainApp />, document.getElementById('root') ); \r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainUsers\":\"Users_mainUsers__3QJOT\",\"usersWrapper\":\"Users_usersWrapper__21Mq2\",\"usersInfo\":\"Users_usersInfo__34rLk\",\"usersIcon\":\"Users_usersIcon__zun_l\",\"usersName\":\"Users_usersName__2QCYy\",\"usersStatus\":\"Users_usersStatus__e6slQ\",\"tip\":\"Users_tip__2ydfB\",\"paginationMain\":\"Users_paginationMain__lE28c\",\"paginationSecond\":\"Users_paginationSecond__3DF0m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainLogin\":\"Login_mainLogin__7nygr\",\"formWrapper\":\"Login_formWrapper__3jTHH\",\"formInput\":\"Login_formInput__1GnBn\",\"fromCheck\":\"Login_fromCheck__3QiWM\",\"in\":\"Login_in__2BYRQ\",\"l\":\"Login_l__2Ga6M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Input_main__FNMhB\",\"error\":\"Input_error__2pOyW\",\"a\":\"Input_a__3OOqP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Drawer\":\"Drawer_Drawer__1F61I\",\"icon\":\"Drawer_icon__3mbAW\",\"text\":\"Drawer_text__3WWYX\",\"close\":\"Drawer_close__3rS3w\"};"],"sourceRoot":""}